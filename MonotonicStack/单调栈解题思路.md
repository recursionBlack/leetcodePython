# 单调栈解题思路

### 核心思想概述

找上一个更大的元素，在找的过程中，填坑

### 什么样的问题可以用单调栈解决？

如果你遇到的问题，是涉及到上一个更大（小)的元素，下一个更大（小）的元素

### 左神ppt

单调栈最经典的用法：

#### 数组无重复值得情况下:

对每个位置都要求：

- 当前位置的左侧比当前位置的数字小，且距离最近的位置在哪
- 当前位置的右侧比当前位置的数字小，且距离最近的位置在哪

或

- 当前位置的左侧比当前位置的数字大，且距离最近的位置在哪
- 当前位置的右侧比当前位置的数字大，且距离最近的位置在哪

用单调栈，可以做到：求解过程中，单调栈所有得调整的总代价为O(n),单次调整的代价均摊为O(1)。而暴力双循环遍历并比较的时间复杂度为O(n**2)

#### 数组有重复值得情况下:

还是要保证站内是严格的大压小或者小压大的，但后续要对结果进行逆向遍历，并修正

### 灵神模板

相比于左神模板，灵神模板的特点在于，将一次遍历，拆成了两次遍历。左神一次遍历，就找出了一个元素的左右侧最近的较小值，而灵神模板在于，一次性只找单个方向的。一次用来找左侧的，一次用来找右侧的，并分别存储在两个数组里。

而且，左神模板，是在栈顶元素弹出时结算，而灵神模板，则是在新元素添加到栈内时，进行一次结算。

双方各有优劣，需要全都掌握。



### 个人感悟

需要注意的是，栈内，一般都是下大上小

栈内存储的一般都是坐标，而不是坐标的值

我的个天呐！单调栈的题型好难啊！！！先看位运算吧。

看了左神的讲解和解题模板后，知道了该怎么做了！！！左神nb！！！

### 问题难点

看到左神的题解后，可以明白，单调栈问题中，的常见难点在于，如果数组值重复时，要不要把站内元素给弹出来。这里需要自己进行一遍模拟，

### 还有一些奇怪的单调栈的应用

一种是，将新元素直接与栈底元素进行比较，

一种是，只往栈里加，不从栈里弹出。



### 一个很重要的话

单调栈的本质，是贪心，所以，贪心问题，可以用单调栈来解。就像是，递归的本质是栈，许多递归问题，都同样可以用栈来解决。