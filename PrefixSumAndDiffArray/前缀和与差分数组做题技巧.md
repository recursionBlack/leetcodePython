# 前缀和与差分数组

前缀和，主要用来，计算，某个范围内的元素和的

前缀和数组，通常要求自定义一个类，然后，定义一个构造函数，一个取范围和的函数

构造时，根据原数组的nums，构造一个长度+1的PrefixSum数组，然后，返回值是PrefixSum[right + 1] - PrefixSum[left]就行了

看做题的话，凡是涉及到前缀和问题的，基本上都要手撕一遍前缀和数组的实现

前缀和的高级做法，就是用一个变量，代替整个数组，可以使得空间复杂度达到常数级。

### 前缀和与后缀和

前缀和与后缀和，通常也会一块使用，后缀和比前缀和，少一个元素，对于某一个位置i，前缀和与后缀和相加，是除开该元素以外的所有元素相加

### 前缀和与差分数组的重要关系

既然两者同时讲，那就有个非常重要的性质，那就是差分数组的前缀和，就是原数组，这也是这两个性质一块讲的原因。很多题型都是，既有差分数组，又有前缀和的。

### 前缀和与哈希表

前缀和与哈希表，是最常用的两个组合题型之一，对前缀和数组，再填入到哈希表，比如，连续子数组为k的整数倍，连续子数组的和为k，等等

### 前缀和与随机权重

我们经常说的负载均衡策略，同一个服务有多台服务器，一般来说有哪些策略这些服务器呢？
一般来说有：1. 轮询；2.随机；3.轮询+权重；4.随机+权重；5.一致性Hash；6.普通hash；7.最小连接数；8.最短响应时间；等等。
随机权重就是其中的一种。

我们先考虑3台服务器的情况，假设他们的权重分别为：[3, 5, 2]，我们应该怎么来搞呢？
通常的做法，是生成一个10以内的随机数，如果这个随机数小于3，就选第一台机器；如果这个随机数小于8（3 + 5），就选第二台机器；否则，就选第三台。
这其实就是前缀和的思想，我们从第二台开始与随机数的比较是需要加上前面机器的权重的，这样更好计算。

还有其中找到第一个大于目标值的数组值的下标，需要用到二分法中的bisect_left函数

可能是工程中很常用的算法，而且由于考察知识点范围较多：前缀和，随机数，二分，所以也是很好的题型